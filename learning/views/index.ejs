<%- include("partials/header.ejs") %>

<main id="index">
    <div>
        <div id="all_items">
            <h2>All Items</h2>
            <% if (all_items.length > 0) { %>
                <table>
                    <tr>
                        <th>Item</th>
                        <th>Date (YYYY-MM-DD)</th>
                        <th>Time (24hr)</th>
                    </tr>
                <% for( let index = 0; index < all_items.length; index++ ) { %>
                    <tr>
                        <td><%= all_items[index]['item'] %></td>
                        <td><%= all_items[index]['date'] %></td>
                        <td><%= all_items[index]['time'] %></td>
                        <td id="remove">
                            <form action="/remove" method="post">
                                <input type="hidden" name="item" value="<%= all_items[index]['item'] %>">
                                <input type="hidden" name="date" value="<%= all_items[index]['date'] %>">
                                <input type="hidden" name="time" value="<%= all_items[index]['time'] %>">
                                <button class="btn" style="height: 1rem">Remove</button>
                            </form>
                        </td>
                    </tr>
                <% } %>
                </table>
            <% } %>
        </div>
        <hr>
        <form action="/new" method="post">
            <h2>Enter Your To-Do Item</h2>
            <input class="form control" type="text" placeholder="Item" name="item" required>
            <input class="form control" type="date" name="date" min=<%= new Date().toISOString().split('T')[0] %> required>
            <input class="form control" type="time" name="time" required>
            <button class="btn btn-primary" type="submit">Submit</button>
        </form>
    </div>
</main>

<%- include("partials/footer.ejs") %>